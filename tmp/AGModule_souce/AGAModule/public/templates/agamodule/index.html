<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <!-- 最新版本的 Bootstrap 核心 CSS 文件 -->
    <link rel="stylesheet" href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <title>AGA Module</title>
</head>
<body>

    <div class="col-md-2"></div>
    <div class="col-md-8">
        <h1 class="text-center">AGA Module</h1>
        <form method="post" action="<?= Straw::createUrl('agamodule/newModule') ?>">
            <?php if ($controllerNotWrite):?>
                <div class=" text-danger">首先确保以下文件夹有可写权限: <?= CONTROLLERS_PATH ?></div>
            <?php endif;?>
            <?php if ($modelNotWrite):?>
            <div class=" text-danger">首先确保以下文件夹有可写权限: <?= MODELS_PATH?></div>
            <?php endif;?>

            <?php if (!$controllerNotWrite && !$modelNotWrite):?>
            <div class="help-block">AGA根据API名称生成相关Controller文件, 数据表名生成相关Model文件<br/> 查看 <a
                href="http://118.178.228.190:88/index.php?title=StrawFramework#.E5.91.BD.E5.90.8D.E8.A7.84.E5.88.99" target="_blank">命名规则</a> 当不填写 API 名称则单独生成 Model文件, 当不填写数据表名称则单独生成 Controller文件</div>
            <div class="form-group">
                <label>API 名称 (不与本服务中现有 Controller 重名, 如 text, passport)</label>
                <input type="text" class="form-control" placeholder="text" name="name" autocomplete="off">
            </div>

            <div class="help-block">[以下参数仅当使用 Mysql 数据库有效]</div>
            <div class="form-group">
                <label>数据库配置名 见 config.php => db 数组中的数据库配置数组键名(非数据库名称) 默认为首先可用的数据库配置名, 默认配置数据库无需对此参数做调整</label>
                <input type="text" class="form-control" value="<?= DEFAULT_DB;?>" name="dbtag" autocomplete="off">
            </div>
            <div class="form-group">
                <label>相关数据表名称 (请先创建相关数据表结构, 多个请使用 逗号 "," 分开, 不与本服务中现有 Model 重名, 如 user, group)</label>
                <input type="text" class="form-control" placeholder="text" name="tables" autocomplete="off">
            </div>
            <button type="submit" class="btn btn-default">Submit</button>
            <?php endif;?>
        </form>
    </div>
    <div class="col-md-2"></div>
</body>
</html>